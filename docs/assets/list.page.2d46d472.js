import{Q as ma}from"./QSeparator.9f77a290.js";import{u as fa,a as ha,b as ga,c as ya,Q as J,d as ba,e as Pe,f as pa,g as ht}from"./QInput.c4c370a8.js";import{a as b,c as pe,i as Yt,h as y,U as A,z as Ma,V as Vt,g as He,Q as U,n as qt,r as Q,p as Da,d as It,W as Ht,X as _a,x as ie,Y as be,A as gt,Z as wa,_ as Ca,$ as Xe,a0 as Ot,H as z,I as R,J as k,K as M,a1 as Ie,a2 as G,w as ce,a3 as ve,a4 as de,j as xa,a5 as Sa,a6 as ke,a7 as yt,a8 as Ee,L as Ue,M as Ze,a9 as Ye}from"./index.e3134bba.js";import{Q as $t,a as jt,b as Tt,r as ka,c as Ya}from"./QCard.ee241d8b.js";import{u as Va,a as qa,b as Ia,Q as et,_ as me,c as bt}from"./QDialog.6c827d4f.js";import{Q as Ha}from"./QPage.2b01733c.js";import{d as pt}from"./dayjs.min.e56cc700.js";import{b as Oa,c as $a,a as ja}from"./store.9f37f943.js";import{p as H,u as Ta,a as Aa,Q as Qa}from"./QMenu.4faabac2.js";import"./scroll.ddd5acd9.js";import"./axios.ab682c6b.js";import"./notify.c7f38d48.js";const Fa=["top","right","bottom","left"],Je={type:{type:String,default:"a"},outline:Boolean,push:Boolean,flat:Boolean,unelevated:Boolean,color:String,textColor:String,glossy:Boolean,square:Boolean,padding:String,label:{type:[String,Number],default:""},labelPosition:{type:String,default:"right",validator:e=>Fa.includes(e)},externalLabel:Boolean,hideLabel:{type:Boolean},labelClass:[Array,String,Object],labelStyle:[Array,String,Object],disable:Boolean,tabindex:[Number,String]};function At(e,n){return{formClass:b(()=>`q-fab--form-${e.square===!0?"square":"rounded"}`),stacked:b(()=>e.externalLabel===!1&&["top","bottom"].includes(e.labelPosition)),labelProps:b(()=>{if(e.externalLabel===!0){const r=e.hideLabel===null?n.value===!1:e.hideLabel;return{action:"push",data:{class:[e.labelClass,`q-fab__label q-tooltip--style q-fab__label--external q-fab__label--external-${e.labelPosition}`+(r===!0?" q-fab__label--external-hidden":"")],style:e.labelStyle}}}return{action:["left","top"].includes(e.labelPosition)?"unshift":"push",data:{class:[e.labelClass,`q-fab__label q-fab__label--internal q-fab__label--internal-${e.labelPosition}`+(e.hideLabel===!0?" q-fab__label--internal-hidden":"")],style:e.labelStyle}}})}}const Qt={start:"self-end",center:"self-center",end:"self-start"},Ba=Object.keys(Qt);var Re=pe({name:"QFabAction",props:{...Je,icon:{type:String,default:""},anchor:{type:String,validator:e=>Ba.includes(e)},to:[String,Object],replace:Boolean},emits:["click"],setup(e,{slots:n,emit:r}){const s=Yt(Vt,()=>({showing:{value:!0},onChildClick:Ma})),{formClass:u,labelProps:l}=At(e,s.showing),m=b(()=>{const g=Qt[e.anchor];return u.value+(g!==void 0?` ${g}`:"")}),i=b(()=>e.disable===!0||s.showing.value!==!0);function f(g){s.onChildClick(g),r("click",g)}function w(){const g=[];return n.icon!==void 0?g.push(n.icon()):e.icon!==""&&g.push(y(U,{name:e.icon})),(e.label!==""||n.label!==void 0)&&g[l.value.action](y("div",l.value.data,n.label!==void 0?n.label():[e.label])),qt(n.default,g)}const c=He();return Object.assign(c.proxy,{click:f}),()=>y(A,{class:m.value,...e,noWrap:!0,stack:e.stacked,icon:void 0,label:void 0,noCaps:!0,fabMini:!0,disable:i.value,onClick:f},w)}});const La=["up","right","down","left"],za=["left","center","right"];var Na=pe({name:"QFab",props:{...Je,...Va,icon:String,activeIcon:String,hideIcon:Boolean,hideLabel:{...Je.hideLabel,default:null},direction:{type:String,default:"right",validator:e=>La.includes(e)},persistent:Boolean,verticalActionsAlign:{type:String,default:"center",validator:e=>za.includes(e)}},emits:qa,setup(e,{slots:n}){const r=Q(null),s=Q(e.modelValue===!0),u=fa(),{proxy:{$q:l}}=He(),{formClass:m,labelProps:i}=At(e,s),f=b(()=>e.persistent!==!0),{hide:w,toggle:c}=Ia({showing:s,hideOnRouteChange:f}),g=b(()=>({opened:s.value})),C=b(()=>`q-fab z-fab row inline justify-center q-fab--align-${e.verticalActionsAlign} ${m.value}`+(s.value===!0?" q-fab--opened":" q-fab--closed")),S=b(()=>`q-fab__actions flex no-wrap inline q-fab__actions--${e.direction} q-fab__actions--${s.value===!0?"opened":"closed"}`),x=b(()=>{const V={id:u.value,role:"menu"};return s.value!==!0&&(V["aria-hidden"]="true"),V}),D=b(()=>`q-fab__icon-holder  q-fab__icon-holder--${s.value===!0?"opened":"closed"}`);function q(V,T){const p=n[V],I=`q-fab__${V} absolute-full`;return p===void 0?y(U,{class:I,name:e[T]||l.iconSet.fab[T]}):y("div",{class:I},p(g.value))}function O(){const V=[];return e.hideIcon!==!0&&V.push(y("div",{class:D.value},[q("icon","icon"),q("active-icon","activeIcon")])),(e.label!==""||n.label!==void 0)&&V[i.value.action](y("div",i.value.data,n.label!==void 0?n.label(g.value):[e.label])),qt(n.tooltip,V)}return Da(Vt,{showing:s,onChildClick(V){w(V),r.value!==null&&r.value.$el.focus()}}),()=>y("div",{class:C.value},[y(A,{ref:r,class:m.value,...e,noWrap:!0,stack:e.stacked,align:void 0,icon:void 0,label:void 0,noCaps:!0,fab:!0,"aria-expanded":s.value===!0?"true":"false","aria-haspopup":"true","aria-controls":u.value,onClick:c},O),y("div",{class:S.value,...x.value},It(n.default))])}});function Pa(){let e=Object.create(null);return{getCache:(n,r)=>e[n]===void 0?e[n]=typeof r=="function"?r():r:e[n],setCache(n,r){e[n]=r},hasCache(n){return Object.hasOwnProperty.call(e,n)},clearCache(n){n!==void 0?delete e[n]:e=Object.create(null)}}}const ee=[-61,9,38,199,426,686,756,818,1111,1181,1210,1635,2060,2097,2192,2262,2324,2394,2456,3178];function Ea(e,n,r){return Object.prototype.toString.call(e)==="[object Date]"&&(r=e.getDate(),n=e.getMonth()+1,e=e.getFullYear()),Ka(tt(e,n,r))}function Mt(e,n,r){return Bt(Ra(e,n,r))}function Ua(e){return Za(e)===0}function qe(e,n){return n<=6?31:n<=11||Ua(e)?30:29}function Za(e){const n=ee.length;let r=ee[0],s,u,l,m,i;if(e<r||e>=ee[n-1])throw new Error("Invalid Jalaali year "+e);for(i=1;i<n&&(s=ee[i],u=s-r,!(e<s));i+=1)r=s;return m=e-r,u-m<6&&(m=m-u+j(u+4,33)*33),l=N(N(m+1,33)-1,4),l===-1&&(l=4),l}function Ft(e,n){const r=ee.length,s=e+621;let u=-14,l=ee[0],m,i,f,w,c;if(e<l||e>=ee[r-1])throw new Error("Invalid Jalaali year "+e);for(c=1;c<r&&(m=ee[c],i=m-l,!(e<m));c+=1)u=u+j(i,33)*8+j(N(i,33),4),l=m;w=e-l,u=u+j(w,33)*8+j(N(w,33)+3,4),N(i,33)===4&&i-w===4&&(u+=1);const g=j(s,4)-j((j(s,100)+1)*3,4)-150,C=20+u-g;return n||(i-w<6&&(w=w-i+j(i+4,33)*33),f=N(N(w+1,33)-1,4),f===-1&&(f=4)),{leap:f,gy:s,march:C}}function Ra(e,n,r){const s=Ft(e,!0);return tt(s.gy,3,s.march)+(n-1)*31-j(n,7)*(n-7)+r-1}function Ka(e){const n=Bt(e).gy;let r=n-621,s,u,l;const m=Ft(r,!1),i=tt(n,3,m.march);if(l=e-i,l>=0){if(l<=185)return u=1+j(l,31),s=N(l,31)+1,{jy:r,jm:u,jd:s};l-=186}else r-=1,l+=179,m.leap===1&&(l+=1);return u=7+j(l,30),s=N(l,30)+1,{jy:r,jm:u,jd:s}}function tt(e,n,r){let s=j((e+j(n-8,6)+100100)*1461,4)+j(153*N(n+9,12)+2,5)+r-34840408;return s=s-j(j(e+100100+j(n-8,6),100)*3,4)+752,s}function Bt(e){let n=4*e+139361631;n=n+j(j(4*e+183187720,146097)*3,4)*4-3908;const r=j(N(n,1461),4)*5+308,s=j(N(r,153),5)+1,u=N(j(r,153),12)+1;return{gy:j(n,1461)-100100+j(8-u,6),gm:u,gd:s}}function j(e,n){return~~(e/n)}function N(e,n){return e-~~(e/n)*n}const Wa=["gregorian","persian"],Dt={mask:{type:String},locale:Object,calendar:{type:String,validator:e=>Wa.includes(e),default:"gregorian"},landscape:Boolean,color:String,textColor:String,square:Boolean,flat:Boolean,bordered:Boolean,readonly:Boolean,disable:Boolean},Xa=["update:modelValue"];function W(e){return e.year+"/"+H(e.month)+"/"+H(e.day)}function Ja(e,n){const r=b(()=>e.disable!==!0&&e.readonly!==!0),s=b(()=>r.value===!0?0:-1),u=b(()=>{const i=[];return e.color!==void 0&&i.push(`bg-${e.color}`),e.textColor!==void 0&&i.push(`text-${e.textColor}`),i.join(" ")});function l(){return e.locale!==void 0?{...n.lang.date,...e.locale}:n.lang.date}function m(i){const f=new Date,w=i===!0?null:0;if(e.calendar==="persian"){const c=Ea(f);return{year:c.jy,month:c.jm,day:c.jd}}return{year:f.getFullYear(),month:f.getMonth()+1,day:f.getDate(),hour:w,minute:w,second:w,millisecond:w}}return{editable:r,tabindex:s,headerClass:u,getLocale:l,getCurrentDate:m}}const Lt=864e5,Ga=36e5,Ge=6e4,zt="YYYY-MM-DDTHH:mm:ss.SSSZ",en=/\[((?:[^\]\\]|\\]|\\)*)\]|d{1,4}|M{1,4}|m{1,2}|w{1,2}|Qo|Do|D{1,4}|YY(?:YY)?|H{1,2}|h{1,2}|s{1,2}|S{1,3}|Z{1,2}|a{1,2}|[AQExX]/g,tn=/(\[[^\]]*\])|d{1,4}|M{1,4}|m{1,2}|w{1,2}|Qo|Do|D{1,4}|YY(?:YY)?|H{1,2}|h{1,2}|s{1,2}|S{1,3}|Z{1,2}|a{1,2}|[AQExX]|([.*+:?^,\s${}()|\\]+)/g,Ke={};function an(e,n){const r="("+n.days.join("|")+")",s=e+r;if(Ke[s]!==void 0)return Ke[s];const u="("+n.daysShort.join("|")+")",l="("+n.months.join("|")+")",m="("+n.monthsShort.join("|")+")",i={};let f=0;const w=e.replace(tn,g=>{switch(f++,g){case"YY":return i.YY=f,"(-?\\d{1,2})";case"YYYY":return i.YYYY=f,"(-?\\d{1,4})";case"M":return i.M=f,"(\\d{1,2})";case"MM":return i.M=f,"(\\d{2})";case"MMM":return i.MMM=f,m;case"MMMM":return i.MMMM=f,l;case"D":return i.D=f,"(\\d{1,2})";case"Do":return i.D=f++,"(\\d{1,2}(st|nd|rd|th))";case"DD":return i.D=f,"(\\d{2})";case"H":return i.H=f,"(\\d{1,2})";case"HH":return i.H=f,"(\\d{2})";case"h":return i.h=f,"(\\d{1,2})";case"hh":return i.h=f,"(\\d{2})";case"m":return i.m=f,"(\\d{1,2})";case"mm":return i.m=f,"(\\d{2})";case"s":return i.s=f,"(\\d{1,2})";case"ss":return i.s=f,"(\\d{2})";case"S":return i.S=f,"(\\d{1})";case"SS":return i.S=f,"(\\d{2})";case"SSS":return i.S=f,"(\\d{3})";case"A":return i.A=f,"(AM|PM)";case"a":return i.a=f,"(am|pm)";case"aa":return i.aa=f,"(a\\.m\\.|p\\.m\\.)";case"ddd":return u;case"dddd":return r;case"Q":case"d":case"E":return"(\\d{1})";case"Qo":return"(1st|2nd|3rd|4th)";case"DDD":case"DDDD":return"(\\d{1,3})";case"w":return"(\\d{1,2})";case"ww":return"(\\d{2})";case"Z":return i.Z=f,"(Z|[+-]\\d{2}:\\d{2})";case"ZZ":return i.ZZ=f,"(Z|[+-]\\d{2}\\d{2})";case"X":return i.X=f,"(-?\\d+)";case"x":return i.x=f,"(-?\\d{4,})";default:return f--,g[0]==="["&&(g=g.substring(1,g.length-1)),g.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}}),c={map:i,regex:new RegExp("^"+w)};return Ke[s]=c,c}function Nt(e,n){return e!==void 0?e:n!==void 0?n.date:_a.date}function _t(e,n=""){const r=e>0?"-":"+",s=Math.abs(e),u=Math.floor(s/60),l=s%60;return r+H(u)+n+H(l)}function nn(e,n,r,s,u){const l={year:null,month:null,day:null,hour:null,minute:null,second:null,millisecond:null,timezoneOffset:null,dateHash:null,timeHash:null};if(u!==void 0&&Object.assign(l,u),e==null||e===""||typeof e!="string")return l;n===void 0&&(n=zt);const m=Nt(r,Ht.props),i=m.months,f=m.monthsShort,{regex:w,map:c}=an(n,m),g=e.match(w);if(g===null)return l;let C="";if(c.X!==void 0||c.x!==void 0){const S=parseInt(g[c.X!==void 0?c.X:c.x],10);if(isNaN(S)===!0||S<0)return l;const x=new Date(S*(c.X!==void 0?1e3:1));l.year=x.getFullYear(),l.month=x.getMonth()+1,l.day=x.getDate(),l.hour=x.getHours(),l.minute=x.getMinutes(),l.second=x.getSeconds(),l.millisecond=x.getMilliseconds()}else{if(c.YYYY!==void 0)l.year=parseInt(g[c.YYYY],10);else if(c.YY!==void 0){const S=parseInt(g[c.YY],10);l.year=S<0?S:2e3+S}if(c.M!==void 0){if(l.month=parseInt(g[c.M],10),l.month<1||l.month>12)return l}else c.MMM!==void 0?l.month=f.indexOf(g[c.MMM])+1:c.MMMM!==void 0&&(l.month=i.indexOf(g[c.MMMM])+1);if(c.D!==void 0){if(l.day=parseInt(g[c.D],10),l.year===null||l.month===null||l.day<1)return l;const S=s!=="persian"?new Date(l.year,l.month,0).getDate():qe(l.year,l.month);if(l.day>S)return l}c.H!==void 0?l.hour=parseInt(g[c.H],10)%24:c.h!==void 0&&(l.hour=parseInt(g[c.h],10)%12,(c.A&&g[c.A]==="PM"||c.a&&g[c.a]==="pm"||c.aa&&g[c.aa]==="p.m.")&&(l.hour+=12),l.hour=l.hour%24),c.m!==void 0&&(l.minute=parseInt(g[c.m],10)%60),c.s!==void 0&&(l.second=parseInt(g[c.s],10)%60),c.S!==void 0&&(l.millisecond=parseInt(g[c.S],10)*10**(3-g[c.S].length)),(c.Z!==void 0||c.ZZ!==void 0)&&(C=c.Z!==void 0?g[c.Z].replace(":",""):g[c.ZZ],l.timezoneOffset=(C[0]==="+"?-1:1)*(60*C.slice(1,3)+1*C.slice(3,5)))}return l.dateHash=H(l.year,6)+"/"+H(l.month)+"/"+H(l.day),l.timeHash=H(l.hour)+":"+H(l.minute)+":"+H(l.second)+C,l}function wt(e){const n=new Date(e.getFullYear(),e.getMonth(),e.getDate());n.setDate(n.getDate()-(n.getDay()+6)%7+3);const r=new Date(n.getFullYear(),0,4);r.setDate(r.getDate()-(r.getDay()+6)%7+3);const s=n.getTimezoneOffset()-r.getTimezoneOffset();n.setHours(n.getHours()-s);const u=(n-r)/(Lt*7);return 1+Math.floor(u)}function Z(e,n,r){const s=new Date(e),u=`set${r===!0?"UTC":""}`;switch(n){case"year":case"years":s[`${u}Month`](0);case"month":case"months":s[`${u}Date`](1);case"day":case"days":case"date":s[`${u}Hours`](0);case"hour":case"hours":s[`${u}Minutes`](0);case"minute":case"minutes":s[`${u}Seconds`](0);case"second":case"seconds":s[`${u}Milliseconds`](0)}return s}function Ve(e,n,r){return(e.getTime()-e.getTimezoneOffset()*Ge-(n.getTime()-n.getTimezoneOffset()*Ge))/r}function Pt(e,n,r="days"){const s=new Date(e),u=new Date(n);switch(r){case"years":case"year":return s.getFullYear()-u.getFullYear();case"months":case"month":return(s.getFullYear()-u.getFullYear())*12+s.getMonth()-u.getMonth();case"days":case"day":case"date":return Ve(Z(s,"day"),Z(u,"day"),Lt);case"hours":case"hour":return Ve(Z(s,"hour"),Z(u,"hour"),Ga);case"minutes":case"minute":return Ve(Z(s,"minute"),Z(u,"minute"),Ge);case"seconds":case"second":return Ve(Z(s,"second"),Z(u,"second"),1e3)}}function Ct(e){return Pt(e,Z(e,"year"),"days")+1}function xt(e){if(e>=11&&e<=13)return`${e}th`;switch(e%10){case 1:return`${e}st`;case 2:return`${e}nd`;case 3:return`${e}rd`}return`${e}th`}const St={YY(e,n,r){const s=this.YYYY(e,n,r)%100;return s>=0?H(s):"-"+H(Math.abs(s))},YYYY(e,n,r){return r!=null?r:e.getFullYear()},M(e){return e.getMonth()+1},MM(e){return H(e.getMonth()+1)},MMM(e,n){return n.monthsShort[e.getMonth()]},MMMM(e,n){return n.months[e.getMonth()]},Q(e){return Math.ceil((e.getMonth()+1)/3)},Qo(e){return xt(this.Q(e))},D(e){return e.getDate()},Do(e){return xt(e.getDate())},DD(e){return H(e.getDate())},DDD(e){return Ct(e)},DDDD(e){return H(Ct(e),3)},d(e){return e.getDay()},dd(e,n){return this.dddd(e,n).slice(0,2)},ddd(e,n){return n.daysShort[e.getDay()]},dddd(e,n){return n.days[e.getDay()]},E(e){return e.getDay()||7},w(e){return wt(e)},ww(e){return H(wt(e))},H(e){return e.getHours()},HH(e){return H(e.getHours())},h(e){const n=e.getHours();return n===0?12:n>12?n%12:n},hh(e){return H(this.h(e))},m(e){return e.getMinutes()},mm(e){return H(e.getMinutes())},s(e){return e.getSeconds()},ss(e){return H(e.getSeconds())},S(e){return Math.floor(e.getMilliseconds()/100)},SS(e){return H(Math.floor(e.getMilliseconds()/10))},SSS(e){return H(e.getMilliseconds(),3)},A(e){return this.H(e)<12?"AM":"PM"},a(e){return this.H(e)<12?"am":"pm"},aa(e){return this.H(e)<12?"a.m.":"p.m."},Z(e,n,r,s){const u=s==null?e.getTimezoneOffset():s;return _t(u,":")},ZZ(e,n,r,s){const u=s==null?e.getTimezoneOffset():s;return _t(u)},X(e){return Math.floor(e.getTime()/1e3)},x(e){return e.getTime()}};function ln(e,n,r,s,u){if(e!==0&&!e||e===1/0||e===-1/0)return;const l=new Date(e);if(isNaN(l))return;n===void 0&&(n=zt);const m=Nt(r,Ht.props);return n.replace(en,(i,f)=>i in St?St[i](l,m,s,u):f===void 0?i:f.split("\\]").join("]"))}const ne=20,on=["Calendar","Years","Months"],kt=e=>on.includes(e),We=e=>/^-?[\d]+\/[0-1]\d$/.test(e),se=" \u2014 ";function X(e){return e.year+"/"+H(e.month)}var Et=pe({name:"QDate",props:{...Dt,...ha,...Oa,modelValue:{required:!0,validator:e=>typeof e=="string"||Array.isArray(e)===!0||Object(e)===e||e===null},multiple:Boolean,range:Boolean,title:String,subtitle:String,mask:{...Dt.mask,default:"YYYY/MM/DD"},defaultYearMonth:{type:String,validator:We},yearsInMonthView:Boolean,events:[Array,Function],eventColor:[String,Function],emitImmediately:Boolean,options:[Array,Function],navigationMinYearMonth:{type:String,validator:We},navigationMaxYearMonth:{type:String,validator:We},noUnset:Boolean,firstDayOfWeek:[String,Number],todayBtn:Boolean,minimal:Boolean,defaultView:{type:String,default:"Calendar",validator:kt}},emits:[...Xa,"rangeStart","rangeEnd","navigation"],setup(e,{slots:n,emit:r}){const{proxy:s}=He(),{$q:u}=s,l=$a(e,u),{getCache:m}=Pa(),{tabindex:i,headerClass:f,getLocale:w,getCurrentDate:c}=Ja(e,u);let g;const C=ga(e),S=ya(C),x=Q(null),D=Q(st()),q=Q(w()),O=b(()=>st()),V=b(()=>w()),T=b(()=>c()),p=Q(it(D.value,q.value)),I=Q(e.defaultView),fe=b(()=>u.lang.rtl===!0?"right":"left"),Me=Q(fe.value),Oe=Q(fe.value),$e=p.value.year,De=Q($e-$e%ne-($e<0?ne:0)),L=Q(null),Rt=b(()=>{const t=e.landscape===!0?"landscape":"portrait";return`q-date q-date--${t} q-date--${t}-${e.minimal===!0?"minimal":"standard"}`+(l.value===!0?" q-date--dark q-dark":"")+(e.bordered===!0?" q-date--bordered":"")+(e.square===!0?" q-date--square no-border-radius":"")+(e.flat===!0?" q-date--flat no-shadow":"")+(e.disable===!0?" disabled":e.readonly===!0?" q-date--readonly":"")}),te=b(()=>e.color||"primary"),le=b(()=>e.textColor||"white"),_e=b(()=>e.emitImmediately===!0&&e.multiple!==!0&&e.range!==!0),je=b(()=>Array.isArray(e.modelValue)===!0?e.modelValue:e.modelValue!==null&&e.modelValue!==void 0?[e.modelValue]:[]),E=b(()=>je.value.filter(t=>typeof t=="string").map(t=>Fe(t,D.value,q.value)).filter(t=>t.dateHash!==null&&t.day!==null&&t.month!==null&&t.year!==null)),oe=b(()=>{const t=a=>Fe(a,D.value,q.value);return je.value.filter(a=>wa(a)===!0&&a.from!==void 0&&a.to!==void 0).map(a=>({from:t(a.from),to:t(a.to)})).filter(a=>a.from.dateHash!==null&&a.to.dateHash!==null&&a.from.dateHash<a.to.dateHash)}),we=b(()=>e.calendar!=="persian"?t=>new Date(t.year,t.month-1,t.day):t=>{const a=Mt(t.year,t.month,t.day);return new Date(a.gy,a.gm-1,a.gd)}),Te=b(()=>e.calendar==="persian"?W:(t,a,o)=>ln(new Date(t.year,t.month-1,t.day,t.hour,t.minute,t.second,t.millisecond),a===void 0?D.value:a,o===void 0?q.value:o,t.year,t.timezoneOffset)),he=b(()=>E.value.length+oe.value.reduce((t,a)=>t+1+Pt(we.value(a.to),we.value(a.from)),0)),at=b(()=>{if(e.title!==void 0&&e.title!==null&&e.title.length!==0)return e.title;if(L.value!==null){const o=L.value.init,d=we.value(o);return q.value.daysShort[d.getDay()]+", "+q.value.monthsShort[o.month-1]+" "+o.day+se+"?"}if(he.value===0)return se;if(he.value>1)return`${he.value} ${q.value.pluralDay}`;const t=E.value[0],a=we.value(t);return isNaN(a.valueOf())===!0?se:q.value.headerTitle!==void 0?q.value.headerTitle(a,t):q.value.daysShort[a.getDay()]+", "+q.value.monthsShort[t.month-1]+" "+t.day}),Kt=b(()=>E.value.concat(oe.value.map(a=>a.from)).sort((a,o)=>a.year-o.year||a.month-o.month)[0]),Wt=b(()=>E.value.concat(oe.value.map(a=>a.to)).sort((a,o)=>o.year-a.year||o.month-a.month)[0]),nt=b(()=>{if(e.subtitle!==void 0&&e.subtitle!==null&&e.subtitle.length!==0)return e.subtitle;if(he.value===0)return se;if(he.value>1){const t=Kt.value,a=Wt.value,o=q.value.monthsShort;return o[t.month-1]+(t.year!==a.year?" "+t.year+se+o[a.month-1]+" ":t.month!==a.month?se+o[a.month-1]:"")+" "+a.year}return E.value[0].year}),Ce=b(()=>{const t=[u.iconSet.datetime.arrowLeft,u.iconSet.datetime.arrowRight];return u.lang.rtl===!0?t.reverse():t}),lt=b(()=>e.firstDayOfWeek!==void 0?Number(e.firstDayOfWeek):q.value.firstDayOfWeek),Xt=b(()=>{const t=q.value.daysShort,a=lt.value;return a>0?t.slice(a,7).concat(t.slice(0,a)):t}),K=b(()=>{const t=p.value;return e.calendar!=="persian"?new Date(t.year,t.month,0).getDate():qe(t.year,t.month)}),Jt=b(()=>typeof e.eventColor=="function"?e.eventColor:()=>e.eventColor),F=b(()=>{if(e.navigationMinYearMonth===void 0)return null;const t=e.navigationMinYearMonth.split("/");return{year:parseInt(t[0],10),month:parseInt(t[1],10)}}),B=b(()=>{if(e.navigationMaxYearMonth===void 0)return null;const t=e.navigationMaxYearMonth.split("/");return{year:parseInt(t[0],10),month:parseInt(t[1],10)}}),Ae=b(()=>{const t={month:{prev:!0,next:!0},year:{prev:!0,next:!0}};return F.value!==null&&F.value.year>=p.value.year&&(t.year.prev=!1,F.value.year===p.value.year&&F.value.month>=p.value.month&&(t.month.prev=!1)),B.value!==null&&B.value.year<=p.value.year&&(t.year.next=!1,B.value.year===p.value.year&&B.value.month<=p.value.month&&(t.month.next=!1)),t}),xe=b(()=>{const t={};return E.value.forEach(a=>{const o=X(a);t[o]===void 0&&(t[o]=[]),t[o].push(a.day)}),t}),ot=b(()=>{const t={};return oe.value.forEach(a=>{const o=X(a.from),d=X(a.to);if(t[o]===void 0&&(t[o]=[]),t[o].push({from:a.from.day,to:o===d?a.to.day:void 0,range:a}),o<d){let v;const{year:Y,month:h}=a.from,_=h<12?{year:Y,month:h+1}:{year:Y+1,month:1};for(;(v=X(_))<=d;)t[v]===void 0&&(t[v]=[]),t[v].push({from:void 0,to:v===d?a.to.day:void 0,range:a}),_.month++,_.month>12&&(_.year++,_.month=1)}}),t}),ge=b(()=>{if(L.value===null)return;const{init:t,initHash:a,final:o,finalHash:d}=L.value,[v,Y]=a<=d?[t,o]:[o,t],h=X(v),_=X(Y);if(h!==P.value&&_!==P.value)return;const $={};return h===P.value?($.from=v.day,$.includeFrom=!0):$.from=1,_===P.value?($.to=Y.day,$.includeTo=!0):$.to=K.value,$}),P=b(()=>X(p.value)),Gt=b(()=>{const t={};if(e.options===void 0){for(let o=1;o<=K.value;o++)t[o]=!0;return t}const a=typeof e.options=="function"?e.options:o=>e.options.includes(o);for(let o=1;o<=K.value;o++){const d=P.value+"/"+H(o);t[o]=a(d)}return t}),ea=b(()=>{const t={};if(e.events===void 0)for(let a=1;a<=K.value;a++)t[a]=!1;else{const a=typeof e.events=="function"?e.events:o=>e.events.includes(o);for(let o=1;o<=K.value;o++){const d=P.value+"/"+H(o);t[o]=a(d)===!0&&Jt.value(d)}}return t}),ta=b(()=>{let t,a;const{year:o,month:d}=p.value;if(e.calendar!=="persian")t=new Date(o,d-1,1),a=new Date(o,d-1,0).getDate();else{const v=Mt(o,d,1);t=new Date(v.gy,v.gm-1,v.gd);let Y=d-1,h=o;Y===0&&(Y=12,h--),a=qe(h,Y)}return{days:t.getDay()-lt.value-1,endDay:a}}),rt=b(()=>{const t=[],{days:a,endDay:o}=ta.value,d=a<0?a+7:a;if(d<6)for(let h=o-d;h<=o;h++)t.push({i:h,fill:!0});const v=t.length;for(let h=1;h<=K.value;h++){const _={i:h,event:ea.value[h],classes:[]};Gt.value[h]===!0&&(_.in=!0,_.flat=!0),t.push(_)}if(xe.value[P.value]!==void 0&&xe.value[P.value].forEach(h=>{const _=v+h-1;Object.assign(t[_],{selected:!0,unelevated:!0,flat:!1,color:te.value,textColor:le.value})}),ot.value[P.value]!==void 0&&ot.value[P.value].forEach(h=>{if(h.from!==void 0){const _=v+h.from-1,$=v+(h.to||K.value)-1;for(let ye=_;ye<=$;ye++)Object.assign(t[ye],{range:h.range,unelevated:!0,color:te.value,textColor:le.value});Object.assign(t[_],{rangeFrom:!0,flat:!1}),h.to!==void 0&&Object.assign(t[$],{rangeTo:!0,flat:!1})}else if(h.to!==void 0){const _=v+h.to-1;for(let $=v;$<=_;$++)Object.assign(t[$],{range:h.range,unelevated:!0,color:te.value,textColor:le.value});Object.assign(t[_],{flat:!1,rangeTo:!0})}else{const _=v+K.value-1;for(let $=v;$<=_;$++)Object.assign(t[$],{range:h.range,unelevated:!0,color:te.value,textColor:le.value})}}),ge.value!==void 0){const h=v+ge.value.from-1,_=v+ge.value.to-1;for(let $=h;$<=_;$++)t[$].color=te.value,t[$].editRange=!0;ge.value.includeFrom===!0&&(t[h].editRangeFrom=!0),ge.value.includeTo===!0&&(t[_].editRangeTo=!0)}p.value.year===T.value.year&&p.value.month===T.value.month&&(t[v+T.value.day-1].today=!0);const Y=t.length%7;if(Y>0){const h=7-Y;for(let _=1;_<=h;_++)t.push({i:_,fill:!0})}return t.forEach(h=>{let _="q-date__calendar-item ";h.fill===!0?_+="q-date__calendar-item--fill":(_+=`q-date__calendar-item--${h.in===!0?"in":"out"}`,h.range!==void 0&&(_+=` q-date__range${h.rangeTo===!0?"-to":h.rangeFrom===!0?"-from":""}`),h.editRange===!0&&(_+=` q-date__edit-range${h.editRangeFrom===!0?"-from":""}${h.editRangeTo===!0?"-to":""}`),(h.range!==void 0||h.editRange===!0)&&(_+=` text-${h.color}`)),h.classes=_}),t}),aa=b(()=>e.disable===!0?{"aria-disabled":"true"}:{});ie(()=>e.modelValue,t=>{if(g===t)g=0;else{const a=it(D.value,q.value);re(a.year,a.month,a)}}),ie(I,()=>{x.value!==null&&s.$el.contains(document.activeElement)===!0&&x.value.focus()}),ie(()=>p.value.year+"|"+p.value.month,()=>{r("navigation",{year:p.value.year,month:p.value.month})}),ie(O,t=>{ft(t,q.value,"mask"),D.value=t}),ie(V,t=>{ft(D.value,t,"locale"),q.value=t});function ut(){const{year:t,month:a,day:o}=T.value,d={...p.value,year:t,month:a,day:o},v=xe.value[X(d)];(v===void 0||v.includes(d.day)===!1)&&Le(d),Qe(d.year,d.month)}function na(t){kt(t)===!0&&(I.value=t)}function la(t,a){["month","year"].includes(t)&&(t==="month"?ct:Be)(a===!0?-1:1)}function Qe(t,a){I.value="Calendar",re(t,a)}function oa(t,a){if(e.range===!1||!t){L.value=null;return}const o=Object.assign({...p.value},t),d=a!==void 0?Object.assign({...p.value},a):o;L.value={init:o,initHash:W(o),final:d,finalHash:W(d)},Qe(o.year,o.month)}function st(){return e.calendar==="persian"?"YYYY/MM/DD":e.mask}function Fe(t,a,o){return nn(t,a,o,e.calendar,{hour:0,minute:0,second:0,millisecond:0})}function it(t,a){const o=Array.isArray(e.modelValue)===!0?e.modelValue:e.modelValue?[e.modelValue]:[];if(o.length===0)return dt();const d=o[o.length-1],v=Fe(d.from!==void 0?d.from:d,t,a);return v.dateHash===null?dt():v}function dt(){let t,a;if(e.defaultYearMonth!==void 0){const o=e.defaultYearMonth.split("/");t=parseInt(o[0],10),a=parseInt(o[1],10)}else{const o=T.value!==void 0?T.value:c();t=o.year,a=o.month}return{year:t,month:a,day:1,hour:0,minute:0,second:0,millisecond:0,dateHash:t+"/"+H(a)+"/01"}}function ct(t){let a=p.value.year,o=Number(p.value.month)+t;o===13?(o=1,a++):o===0&&(o=12,a--),re(a,o),_e.value===!0&&Se("month")}function Be(t){const a=Number(p.value.year)+t;re(a,p.value.month),_e.value===!0&&Se("year")}function ra(t){re(t,p.value.month),I.value=e.defaultView==="Years"?"Months":"Calendar",_e.value===!0&&Se("year")}function ua(t){re(p.value.year,t),I.value="Calendar",_e.value===!0&&Se("month")}function sa(t,a){const o=xe.value[a];(o!==void 0&&o.includes(t.day)===!0?ze:Le)(t)}function ae(t){return{year:t.year,month:t.month,day:t.day}}function re(t,a,o){if(F.value!==null&&t<=F.value.year&&((a<F.value.month||t<F.value.year)&&(a=F.value.month),t=F.value.year),B.value!==null&&t>=B.value.year&&((a>B.value.month||t>B.value.year)&&(a=B.value.month),t=B.value.year),o!==void 0){const{hour:v,minute:Y,second:h,millisecond:_,timezoneOffset:$,timeHash:ye}=o;Object.assign(p.value,{hour:v,minute:Y,second:h,millisecond:_,timezoneOffset:$,timeHash:ye})}const d=t+"/"+H(a)+"/01";d!==p.value.dateHash&&(Me.value=p.value.dateHash<d==(u.lang.rtl!==!0)?"left":"right",t!==p.value.year&&(Oe.value=Me.value),gt(()=>{De.value=t-t%ne-(t<0?ne:0),Object.assign(p.value,{year:t,month:a,day:1,dateHash:d})}))}function vt(t,a,o){const d=t!==null&&t.length===1&&e.multiple===!1?t[0]:t;g=d;const{reason:v,details:Y}=mt(a,o);r("update:modelValue",d,v,Y)}function Se(t){const a=E.value[0]!==void 0&&E.value[0].dateHash!==null?{...E.value[0]}:{...p.value};gt(()=>{a.year=p.value.year,a.month=p.value.month;const o=e.calendar!=="persian"?new Date(a.year,a.month,0).getDate():qe(a.year,a.month);a.day=Math.min(Math.max(1,a.day),o);const d=ue(a);g=d;const{details:v}=mt("",a);r("update:modelValue",d,t,v)})}function mt(t,a){return a.from!==void 0?{reason:`${t}-range`,details:{...ae(a.target),from:ae(a.from),to:ae(a.to)}}:{reason:`${t}-day`,details:ae(a)}}function ue(t,a,o){return t.from!==void 0?{from:Te.value(t.from,a,o),to:Te.value(t.to,a,o)}:Te.value(t,a,o)}function Le(t){let a;if(e.multiple===!0)if(t.from!==void 0){const o=W(t.from),d=W(t.to),v=E.value.filter(h=>h.dateHash<o||h.dateHash>d),Y=oe.value.filter(({from:h,to:_})=>_.dateHash<o||h.dateHash>d);a=v.concat(Y).concat(t).map(h=>ue(h))}else{const o=je.value.slice();o.push(ue(t)),a=o}else a=ue(t);vt(a,"add",t)}function ze(t){if(e.noUnset===!0)return;let a=null;if(e.multiple===!0&&Array.isArray(e.modelValue)===!0){const o=ue(t);t.from!==void 0?a=e.modelValue.filter(d=>d.from!==void 0?d.from!==o.from&&d.to!==o.to:!0):a=e.modelValue.filter(d=>d!==o),a.length===0&&(a=null)}vt(a,"remove",t)}function ft(t,a,o){const d=E.value.concat(oe.value).map(v=>ue(v,t,a)).filter(v=>v.from!==void 0?v.from.dateHash!==null&&v.to.dateHash!==null:v.dateHash!==null);r("update:modelValue",(e.multiple===!0?d:d[0])||null,o)}function ia(){if(e.minimal!==!0)return y("div",{class:"q-date__header "+f.value},[y("div",{class:"relative-position"},[y(be,{name:"q-transition--fade"},()=>y("div",{key:"h-yr-"+nt.value,class:"q-date__header-subtitle q-date__header-link "+(I.value==="Years"?"q-date__header-link--active":"cursor-pointer"),tabindex:i.value,...m("vY",{onClick(){I.value="Years"},onKeyup(t){t.keyCode===13&&(I.value="Years")}})},[nt.value]))]),y("div",{class:"q-date__header-title relative-position flex no-wrap"},[y("div",{class:"relative-position col"},[y(be,{name:"q-transition--fade"},()=>y("div",{key:"h-sub"+at.value,class:"q-date__header-title-label q-date__header-link "+(I.value==="Calendar"?"q-date__header-link--active":"cursor-pointer"),tabindex:i.value,...m("vC",{onClick(){I.value="Calendar"},onKeyup(t){t.keyCode===13&&(I.value="Calendar")}})},[at.value]))]),e.todayBtn===!0?y(A,{class:"q-date__header-today self-start",icon:u.iconSet.datetime.today,flat:!0,size:"sm",round:!0,tabindex:i.value,onClick:ut}):null])])}function Ne({label:t,type:a,key:o,dir:d,goTo:v,boundaries:Y,cls:h}){return[y("div",{class:"row items-center q-date__arrow"},[y(A,{round:!0,dense:!0,size:"sm",flat:!0,icon:Ce.value[0],tabindex:i.value,disable:Y.prev===!1,...m("go-#"+a,{onClick(){v(-1)}})})]),y("div",{class:"relative-position overflow-hidden flex flex-center"+h},[y(be,{name:"q-transition--jump-"+d},()=>y("div",{key:o},[y(A,{flat:!0,dense:!0,noCaps:!0,label:t,tabindex:i.value,...m("view#"+a,{onClick:()=>{I.value=a}})})]))]),y("div",{class:"row items-center q-date__arrow"},[y(A,{round:!0,dense:!0,size:"sm",flat:!0,icon:Ce.value[1],tabindex:i.value,disable:Y.next===!1,...m("go+#"+a,{onClick(){v(1)}})})])]}const da={Calendar:()=>[y("div",{key:"calendar-view",class:"q-date__view q-date__calendar"},[y("div",{class:"q-date__navigation row items-center no-wrap"},Ne({label:q.value.months[p.value.month-1],type:"Months",key:p.value.month,dir:Me.value,goTo:ct,boundaries:Ae.value.month,cls:" col"}).concat(Ne({label:p.value.year,type:"Years",key:p.value.year,dir:Oe.value,goTo:Be,boundaries:Ae.value.year,cls:""}))),y("div",{class:"q-date__calendar-weekdays row items-center no-wrap"},Xt.value.map(t=>y("div",{class:"q-date__calendar-item"},[y("div",t)]))),y("div",{class:"q-date__calendar-days-container relative-position overflow-hidden"},[y(be,{name:"q-transition--slide-"+Me.value},()=>y("div",{key:P.value,class:"q-date__calendar-days fit"},rt.value.map(t=>y("div",{class:t.classes},[t.in===!0?y(A,{class:t.today===!0?"q-date__today":"",dense:!0,flat:t.flat,unelevated:t.unelevated,color:t.color,textColor:t.textColor,label:t.i,tabindex:i.value,...m("day#"+t.i,{onClick:()=>{ca(t.i)},onMouseover:()=>{va(t.i)}})},t.event!==!1?()=>y("div",{class:"q-date__event bg-"+t.event}):null):y("div",""+t.i)]))))])])],Months(){const t=p.value.year===T.value.year,a=d=>F.value!==null&&p.value.year===F.value.year&&F.value.month>d||B.value!==null&&p.value.year===B.value.year&&B.value.month<d,o=q.value.monthsShort.map((d,v)=>{const Y=p.value.month===v+1;return y("div",{class:"q-date__months-item flex flex-center"},[y(A,{class:t===!0&&T.value.month===v+1?"q-date__today":null,flat:Y!==!0,label:d,unelevated:Y,color:Y===!0?te.value:null,textColor:Y===!0?le.value:null,tabindex:i.value,disable:a(v+1),...m("month#"+v,{onClick:()=>{ua(v+1)}})})])});return e.yearsInMonthView===!0&&o.unshift(y("div",{class:"row no-wrap full-width"},[Ne({label:p.value.year,type:"Years",key:p.value.year,dir:Oe.value,goTo:Be,boundaries:Ae.value.year,cls:" col"})])),y("div",{key:"months-view",class:"q-date__view q-date__months flex flex-center"},o)},Years(){const t=De.value,a=t+ne,o=[],d=v=>F.value!==null&&F.value.year>v||B.value!==null&&B.value.year<v;for(let v=t;v<=a;v++){const Y=p.value.year===v;o.push(y("div",{class:"q-date__years-item flex flex-center"},[y(A,{key:"yr"+v,class:T.value.year===v?"q-date__today":null,flat:!Y,label:v,dense:!0,unelevated:Y,color:Y===!0?te.value:null,textColor:Y===!0?le.value:null,tabindex:i.value,disable:d(v),...m("yr#"+v,{onClick:()=>{ra(v)}})})]))}return y("div",{class:"q-date__view q-date__years flex flex-center"},[y("div",{class:"col-auto"},[y(A,{round:!0,dense:!0,flat:!0,icon:Ce.value[0],tabindex:i.value,disable:d(t),...m("y-",{onClick:()=>{De.value-=ne}})})]),y("div",{class:"q-date__years-content col self-stretch row items-center"},o),y("div",{class:"col-auto"},[y(A,{round:!0,dense:!0,flat:!0,icon:Ce.value[1],tabindex:i.value,disable:d(a),...m("y+",{onClick:()=>{De.value+=ne}})})])])}};function ca(t){const a={...p.value,day:t};if(e.range===!1){sa(a,P.value);return}if(L.value===null){const o=rt.value.find(v=>v.fill!==!0&&v.i===t);if(e.noUnset!==!0&&o.range!==void 0){ze({target:a,from:o.range.from,to:o.range.to});return}if(o.selected===!0){ze(a);return}const d=W(a);L.value={init:a,initHash:d,final:a,finalHash:d},r("rangeStart",ae(a))}else{const o=L.value.initHash,d=W(a),v=o<=d?{from:L.value.init,to:a}:{from:a,to:L.value.init};L.value=null,Le(o===d?a:{target:a,...v}),r("rangeEnd",{from:ae(v.from),to:ae(v.to)})}}function va(t){if(L.value!==null){const a={...p.value,day:t};Object.assign(L.value,{final:a,finalHash:W(a)})}}return Object.assign(s,{setToday:ut,setView:na,offsetCalendar:la,setCalendarTo:Qe,setEditingRange:oa}),()=>{const t=[y("div",{class:"q-date__content col relative-position"},[y(be,{name:"q-transition--fade"},da[I.value])])],a=It(n.default);return a!==void 0&&t.push(y("div",{class:"q-date__actions"},a)),e.name!==void 0&&e.disable!==!0&&S(t,"push"),y("div",{class:Rt.value,...aa.value},[ia(),y("div",{ref:x,class:"q-date__main col column",tabindex:-1},t)])}}}),Ut=pe({name:"QPopupProxy",props:{...Ta,breakpoint:{type:[String,Number],default:450}},emits:["show","hide"],setup(e,{slots:n,emit:r,attrs:s}){const{proxy:u}=He(),{$q:l}=u,m=Q(!1),i=Q(null),f=b(()=>parseInt(e.breakpoint,10)),{canShow:w}=Aa({showing:m});function c(){return l.screen.width<f.value||l.screen.height<f.value?"dialog":"menu"}const g=Q(c()),C=b(()=>g.value==="menu"?{maxHeight:"99vh"}:{});ie(()=>c(),D=>{m.value!==!0&&(g.value=D)});function S(D){m.value=!0,r("show",D)}function x(D){m.value=!1,g.value=c(),r("hide",D)}return Object.assign(u,{show(D){w(D)===!0&&i.value.show(D)},hide(D){i.value.hide(D)},toggle(D){i.value.toggle(D)}}),Ca(u,"currentComponent",()=>({type:g.value,ref:i.value})),()=>{const D={ref:i,...C.value,...s,onShow:S,onHide:x};let q;return g.value==="dialog"?q=et:(q=Qa,Object.assign(D,{target:e.target,contextMenu:e.contextMenu,noParentEvent:!0,separateClosePopup:!0})),y(q,D,n.default)}}});const rn=y("div",{class:"q-space"});var Zt=pe({name:"QSpace",setup(){return()=>rn}});const un={class:"q-px-md"},sn={class:"q-gutter-y-xs column"},dn=Object.assign({name:"ListAddItemDialog"},{__name:"addItem.dialog.component",props:{modelValue:{},modelModifiers:{}},emits:Xe(["add"],["update:modelValue"]),setup(e,{emit:n}){const r=Ot(e,"modelValue"),s=n,u=Q({name:"",notes:"",category:"",due:null});Q(null);const l=Q({notes:!1,category:!1,due:!1}),m=()=>{l.value.notes=!l.value.notes,l.value.notes||(u.value.notes="")},i=()=>{l.value.category=!l.value.category,l.value.category||(u.value.category="")},f=()=>{l.value.due=!l.value.due,l.value.due||(u.value.due=null)},w=()=>{r.value=!1,s("add",me.cloneDeep(u.value))},c=()=>{u.value={name:"",notes:"",category:"",due:null},l.value={notes:!1,category:!1,due:!1}};return(g,C)=>(z(),R(et,{modelValue:r.value,"onUpdate:modelValue":C[7]||(C[7]=S=>r.value=S),position:"bottom",onHide:c},{default:k(()=>[M(Tt,{style:{width:"350px"}},{default:k(()=>[M($t,null,{default:k(()=>[Ie("div",un,[Ie("div",sn,[M(J,{class:"text-body1",borderless:"",modelValue:u.value.name,"onUpdate:modelValue":C[0]||(C[0]=S=>u.value.name=S),dense:"",placeholder:"Name",autofocus:"",onKeyup:G(w,["enter"])},null,8,["modelValue"]),ce(M(J,{borderless:"",modelValue:u.value.notes,"onUpdate:modelValue":C[1]||(C[1]=S=>u.value.notes=S),dense:"",placeholder:"Notes",onKeyup:G(w,["enter"])},{prepend:k(()=>[M(U,{size:"xs",name:"notes"})]),_:1},8,["modelValue"]),[[ve,l.value.notes]]),ce(M(J,{borderless:"",modelValue:u.value.category,"onUpdate:modelValue":C[2]||(C[2]=S=>u.value.category=S),dense:"",placeholder:"Category",onKeyup:G(w,["enter"])},{prepend:k(()=>[M(U,{size:"xs",name:"category"})]),_:1},8,["modelValue"]),[[ve,l.value.category]]),ce(M(J,{borderless:"",modelValue:u.value.due,"onUpdate:modelValue":C[6]||(C[6]=S=>u.value.due=S),dense:"",placeholder:"Due",onKeyup:G(w,["enter"])},{prepend:k(()=>[M(U,{size:"xs",name:"alarm_on"},{default:k(()=>[M(Ut,{modelValue:l.value.date,"onUpdate:modelValue":C[5]||(C[5]=S=>l.value.date=S),cover:"","transition-show":"scale","transition-hide":"scale"},{default:k(()=>[M(Et,{modelValue:u.value.due,"onUpdate:modelValue":[C[3]||(C[3]=S=>u.value.due=S),C[4]||(C[4]=S=>l.value.date=!1)],minimal:"",mask:"YYYY-MM-DD"},null,8,["modelValue"])]),_:1},8,["modelValue"])]),_:1})]),_:1},8,["modelValue"]),[[ve,l.value.due]])])])]),_:1}),M(jt,{class:"q-px-md"},{default:k(()=>[M(A,{color:l.value.notes?"primary":"grey",flat:"",icon:"notes",size:"sm",round:"",onClick:m},null,8,["color"]),M(A,{color:l.value.category?"primary":"grey",flat:"",icon:"category",size:"sm",round:"",onClick:i},null,8,["color"]),M(A,{color:l.value.due?"primary":"grey",flat:"",icon:"alarm_on",size:"sm",round:"",onClick:f},null,8,["color"]),M(Zt),M(A,{color:"primary",disable:!u.value.name,flat:"",onClick:w},{default:k(()=>[de("Add")]),_:1},8,["disable"])]),_:1})]),_:1})]),_:1},8,["modelValue"]))}}),cn={class:"q-px-md"},vn={class:"q-gutter-y-xs column"},mn=Object.assign({name:"ListEditItemDialog"},{__name:"editItem.dialog.component",props:Xe({item:Object},{modelValue:{},modelModifiers:{}}),emits:Xe(["save"],["update:modelValue"]),setup(e,{emit:n}){const r=Ot(e,"modelValue"),s=n,u=e,l=Q(me.cloneDeep(u.item)),m=Q({notes:!1,category:!1,due:!1}),i=()=>{m.value.notes=!m.value.notes,m.value.notes||(l.value.notes="")},f=()=>{m.value.category=!m.value.category,m.value.category||(l.value.category="")},w=()=>{m.value.due=!m.value.due,m.value.due||(l.value.due=null)},c=()=>{r.value=!1,s("save",me.cloneDeep(l.value))},g=()=>{l.value=me.cloneDeep(u.item),m.value={notes:!!l.value.notes,category:!!l.value.category,due:!!l.value.due}},C=()=>{l.value={name:"",notes:"",category:"",due:null},m.value={notes:!1,category:!1,due:!1}};return(S,x)=>(z(),R(et,{modelValue:r.value,"onUpdate:modelValue":x[7]||(x[7]=D=>r.value=D),position:"bottom",onBeforeShow:g,onHide:C},{default:k(()=>[M(Tt,{style:{width:"350px"}},{default:k(()=>[M($t,null,{default:k(()=>[Ie("div",cn,[Ie("div",vn,[M(J,{class:"text-body1",borderless:"",modelValue:l.value.name,"onUpdate:modelValue":x[0]||(x[0]=D=>l.value.name=D),dense:"",placeholder:"Title",autofocus:"",onKeyup:G(c,["enter"])},null,8,["modelValue"]),ce(M(J,{borderless:"",modelValue:l.value.notes,"onUpdate:modelValue":x[1]||(x[1]=D=>l.value.notes=D),dense:"",placeholder:"Notes",onKeyup:G(c,["enter"])},{prepend:k(()=>[M(U,{size:"xs",name:"notes"})]),_:1},8,["modelValue"]),[[ve,m.value.notes]]),ce(M(J,{borderless:"",modelValue:l.value.category,"onUpdate:modelValue":x[2]||(x[2]=D=>l.value.category=D),dense:"",placeholder:"Category",onKeyup:G(c,["enter"])},{prepend:k(()=>[M(U,{size:"xs",name:"category"})]),_:1},8,["modelValue"]),[[ve,m.value.category]]),ce(M(J,{borderless:"",modelValue:l.value.due,"onUpdate:modelValue":x[6]||(x[6]=D=>l.value.due=D),dense:"",placeholder:"Due",onKeyup:G(c,["enter"])},{prepend:k(()=>[M(U,{size:"xs",name:"alarm_on"})]),append:k(()=>[M(U,{size:"sm",name:"event",class:"cursor-pointer"},{default:k(()=>[M(Ut,{modelValue:m.value.date,"onUpdate:modelValue":x[5]||(x[5]=D=>m.value.date=D),cover:"","transition-show":"scale","transition-hide":"scale"},{default:k(()=>[M(Et,{modelValue:l.value.due,"onUpdate:modelValue":[x[3]||(x[3]=D=>l.value.due=D),x[4]||(x[4]=D=>m.value.date=!1)],minimal:"",mask:"YYYY-MM-DD"},null,8,["modelValue"])]),_:1},8,["modelValue"])]),_:1})]),_:1},8,["modelValue"]),[[ve,m.value.due]])])])]),_:1}),M(jt,{class:"q-px-md"},{default:k(()=>[M(A,{color:m.value.notes?"primary":"grey",flat:"",icon:"notes",size:"sm",round:"",onClick:i},null,8,["color"]),M(A,{color:m.value.category?"primary":"grey",flat:"",icon:"category",size:"sm",round:"",onClick:f},null,8,["color"]),M(A,{color:m.value.due?"primary":"grey",flat:"",icon:"alarm_on",size:"sm",round:"",onClick:w},null,8,["color"]),M(Zt),M(A,{color:"primary",disable:!l.value.name,flat:"",onClick:c},{default:k(()=>[de("Save")]),_:1},8,["disable"])]),_:1})]),_:1})]),_:1},8,["modelValue"]))}}),fn={key:1,class:"flex justify-center"},kn=Object.assign({name:"ListPage"},{__name:"list.page",setup(e){pt.extend(ka);const n=Yt("notify"),r=ja(),s=Q({show:!1}),u=Q({show:!1,item:null}),l=O=>new Promise(V=>setTimeout(V,O)),m=b(()=>r.list.items||[]),i=b(()=>m.value.length==0?[]:me.uniq(m.value.map(V=>V.category)).sort().map(V=>({title:V,items:m.value.filter(T=>T.category==V&&(["open","almost-completed"].includes(T.status)||r.list.showCompletedItems))})).filter(V=>V.items.length>0)),f=()=>{s.value.show=!0},w=async()=>{await r.deleteCompletedItems()&&n("Completed items deleted!")},c=async()=>{await r.clearList()&&n("List cleared!")},g=async O=>{await r.showCompletedItems(!r.list.showCompletedItems)},C=async O=>{O.status="almost-completed",await l(500),await r.completeItem(O.id),n(`${O.name} completed!`,{actions:[{label:"Undo",color:"white",handler:()=>{r.openItem(O.id)}}]})},S=async O=>{await r.openItem(O.id),n(`${O.name} re-opened!`,{actions:[{label:"Undo",color:"white",handler:()=>{r.completeItem(O.id)}}]})},x=async O=>{u.value.item=me.cloneDeep(O),u.value.show=!0},D=async O=>{await r.saveItem(O),n(`${O.name} edited!`)},q=async O=>{const V=await r.addItem(O);n(`${O.name} added!`,{actions:[{label:"Undo",color:"white",handler:()=>{r.removeItem(V)}}]})};return xa(async()=>{await r.fetchList()}),(O,V)=>(z(),R(Ha,{class:Sa({flex:i.value.length==0,"flex-center":i.value.length==0})},{default:k(()=>[i.value.length>0?(z(),R(ba,{key:0,class:"q-pt-md"},{default:k(()=>[(z(!0),ke(Ee,null,yt(i.value,(T,p)=>(z(),ke(Ee,{key:p},[p>0?(z(),R(ma,{key:0,inset:""})):Ze("",!0),M(Pe,{header:""},{default:k(()=>[de(Ye(T.title||"(Keine Kategorie)"),1)]),_:2},1024),(z(!0),ke(Ee,null,yt(T.items,I=>(z(),R(pa,{key:I.id},{default:k(()=>[M(ht,{side:"",top:""},{default:k(()=>[I.status=="open"?(z(),R(A,{key:0,size:"12px",flat:"",dense:"",round:"",icon:"radio_button_unchecked",onClick:fe=>C(I)},null,8,["onClick"])):["almost-completed","completed"].includes(I.status)?(z(),R(A,{key:1,size:"12px",flat:"",dense:"",round:"",icon:"done",onClick:fe=>S(I)},null,8,["onClick"])):Ze("",!0)]),_:2},1024),M(ht,{onClick:fe=>x(I)},{default:k(()=>[M(Pe,null,{default:k(()=>[de(Ye(I.name)+" ",1),I.due?(z(),R(Ya,{key:0,class:"q-mx-sm",color:"accent"},{default:k(()=>[de(Ye(Ue(pt)(I.due).fromNow()),1)]),_:2},1024)):Ze("",!0)]),_:2},1024),M(Pe,{caption:""},{default:k(()=>[de(Ye(I.notes),1)]),_:2},1024)]),_:2},1032,["onClick"])]),_:2},1024))),128))],64))),128))]),_:1})):(z(),ke("div",fn,[M(U,{color:"positive",name:"done",size:"104px",class:"q-pa-xl"})])),M(bt,{position:"bottom",offset:[0,-28],style:{"z-index":"6000"}},{default:k(()=>[M(A,{fab:"",icon:"add",color:"accent",onClick:f})]),_:1}),M(bt,{position:"bottom-right",offset:[18,18]},{default:k(()=>[M(Na,{color:"primary",icon:"more_vert",direction:"up",padding:"sm"},{default:k(()=>[M(Re,{onClick:w,icon:"remove_done","external-label":"","label-position":"left",label:"Delete completed items"}),M(Re,{onClick:c,disable:m.value.length==0,icon:"delete_sweep","external-label":"","label-position":"left",label:"Clear all"},null,8,["disable"]),M(Re,{onClick:g,icon:Ue(r).list.showCompletedItems?"visibility_off":"visibility","external-label":"","label-position":"left",label:Ue(r).list.showCompletedItems?"Hide completed items":"Show completed items"},null,8,["icon","label"])]),_:1})]),_:1}),M(dn,{modelValue:s.value.show,"onUpdate:modelValue":V[0]||(V[0]=T=>s.value.show=T),onAdd:q},null,8,["modelValue"]),M(mn,{modelValue:u.value.show,"onUpdate:modelValue":V[1]||(V[1]=T=>u.value.show=T),item:u.value.item,onSave:D},null,8,["modelValue","item"])]),_:1},8,["class"]))}});export{kn as default};
